# Simple log4j2 vulnerability scanner

[![Java CI with Maven](https://github.com/Afrouper/Log4j-Scanner/actions/workflows/maven.yml/badge.svg)](https://github.com/Afrouper/Log4j-Scanner/actions/workflows/maven.yml)
[![Release JARs and native images](https://github.com/Afrouper/Log4j-Scanner/actions/workflows/buildAndRelease.yml/badge.svg?branch=master)](https://github.com/Afrouper/Log4j-Scanner/actions/workflows/buildAndRelease.yml)

Inspired by [logpresso Scanner](https://github.com/logpresso/CVE-2021-44228-Scanner) where I was able to contribute some parts :-)

And I have to do some automatic builds and releases with GitHub Actions...

## Build
Simple checkout and build via `mvn package`. GraalVM native-images can be created with `mvn package -Pnative`. An installed [GraalVM](https://www.graalvm.org) with native-image must be installed.

## Execute
In the release section you can find the JAR for all JRE 8+ environments. Also you can download a native binary for linux, macOS or windows.

To execute the scanner simple call `java -jar Log4j-Scanner-<version>.jar scanPath` where 'scanPath' is to directory you want to scan. All ZIPs, JARs, WARs and EARs in the directory are scanned (also Fat-JARs are supported). Also all directories are scanned recursive. Native binaries can be executed without installed Java - please pick the correct for you system.

**Attention:** After downloading the macOS binary you may need to remove the quarantine attribute. Do this via `xattr -d com.apple.quarantine Log4j-Scanner-mac-amd64`.

You get a return code `0` when everything is fine, `1` if there are vulnereable log4j2 versions.
